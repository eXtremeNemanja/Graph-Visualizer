<h2>Bird View</h2>
<svg id="birdView" width="100%" height="100%"></svg>

<script>
let mainNode = d3.select("#mainView").node();

let observer = new MutationObserver(observer_callback);

observer.observe(mainNode, {
    subtree: true,
    attributes: true,
    childList: true,
    characterData: true
});

function observer_callback() {
    let main = d3.select("#mainView").html();
    d3.select("#birdView").html(main); // smestanje html koda iz main u bird view
    
    let x = d3.select("#mainView").select("g").node().getBBox().x; // x pozicija g taga unutar svg
    let y = d3.select("#mainView").select("g").node().getBBox().y; // y pozicija g taga unutar svg
    d3.select("#birdView").select('g').attr("transform", "translate ("+[250+x*0.15, 80+y*0.15]+") scale("+ 0.1 +")");
}
</script>